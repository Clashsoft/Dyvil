// --------------- Plugins ---------------

plugins {
	id 'com.jfrog.bintray' version '1.8.4' apply false
	id 'de.clashsoft.simple-publish' version '0.3.0' apply false
}

allprojects {
	apply plugin: 'java'
	apply plugin: 'idea'
	apply plugin: 'maven-publish'
	apply plugin: 'com.jfrog.bintray'
	apply plugin: 'de.clashsoft.simple-publish'
}

// --------------- Info ---------------

version = '0.44.1'
description = 'The Dyvil programming language.'
publishInfo.labels = [ 'dyvil', 'programming-language', 'jvm' ]

allprojects {
	group = 'org.dyvil'

	publishInfo {
		organization = 'dyvil'
		websiteUrl = 'https://github.com/Dyvil/Dyvil'
		issueTrackerUrl = 'https://github.com/Dyvil/Dyvil/issues'
		vcsUrl = 'https://github.com/Dyvil/Dyvil'
		githubRepo = 'Dyvil/Dyvil'

		license {
			shortName = 'BSD 3-Clause'
			longName = 'BSD 3-Clause "New" or "Revised" License'
			url = 'https://opensource.org/licenses/BSD-3-Clause'
		}

		developer {
			id = 'clashsoft'
			name = 'Adrian Kunz'
			email = 'clashsoft@hotmail.com'
		}
	}
}

// *************** Shared Configuration ***************

wrapper.setDistributionType(Wrapper.DistributionType.ALL)

// --------------- Constants ---------------

ext {
	versionDir = 'v0.4x'
	javaFilters = [ '**/*.java' ]
	dyvilFilters = [ '**/*.dyv', '**/*.dyh', '**/*.dyvil', '**/*.dyvilh' ]
	genSrcFilters = [ '**/*.dgt', '**/*.dgs', '**/*.dgc', '**/*.dgh' ]
	binaryFilters = [ '**/*.dyo', '**/*.class' ]
	resourceFilters = [ '**/*.properties' ]

	libraryBootstrapJarFile = rootProject.files('library/bootstrap.jar')
}

apply from: 'gradle/dependencies.gradle'
apply from: 'gradle/sourceCopying.gradle'
apply from: 'gradle/javaCompile.gradle'
apply from: 'gradle/dyvilCompile.gradle'
apply from: 'gradle/test.gradle'
apply from: 'gradle/sharedJar.gradle'
apply from: 'gradle/prepareRelease.gradle'
