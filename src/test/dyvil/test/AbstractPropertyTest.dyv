package dyvil.test

public class AbstractPropertyTest
{
	interface AbstractProperty
	{
		public abstract int subscript { get; set }
	}
	
	class ConcreteProperty implements AbstractProperty
	{
		private int value
		private boolean _setterCalled

		public override int subscript
		{
			set (newValue) {
				this._setterCalled = true
				this.value = newValue
			}
			get: this.value
		}

		public boolean setterCalled
		{
			get: this._setterCalled
		}
	}
	
	public static void main([String] args)
	{
		auto c = new ConcreteProperty

		c[] = 20
		Main.test("Property Getter", 20, c[])

		c.subscript = 10
		Main.test("Property Setter", true, c.setterCalled)
	}
}
