package dyvil.test.lang

using dyvil.Test

public class NestedMethodTest
{
	static func apply() -> Test = test "Nested Methods" {
		var i = 0

		func testI(text: String, expected: int) -> Test = test text { i =?= expected }

		func setI(newValue: int) = i = newValue

		func setI2(newValue: int) = setI(newValue)

		testI("Before Assignment", 0)
		i = 1
		testI("After Assignment", 1)
		setI(2)
		testI("After Set", 2)
		setI2(3)
		testI("After Set 2", 3)
	}
}
