// --------------- Plugins ---------------

plugins {
	id 'application'
}

// --------------- Info ---------------

version = '0.9.5'
description = 'The Dyvil GenSrc template source code generator'
publishInfo.labels = [ 'dyvil', 'gensrc', 'template', 'code-generator' ]

mainClassName = 'dyvilx.tools.gensrc.Main'

// --------------- Source Sets ---------------

sourceSets.main {
	java {
		srcDir '../src/gensrc'
	}

	resources {
		srcDir '../src/gensrc'
	}
}

// --------------- Dependencies ---------------

dependencies {
	compile project(':library')
	compile project(':compiler')
	compileOnly rootProject.libraryBootstrapJarFile
}

// --------------- Source Copying ---------------

tasks.register('copyJava', Sync) {
	group 'sources'

	from sourceSets.main.java
	into "$buildDir/src/main/java/"

	include project.javaFilters
	includeEmptyDirs = false
}

compileJava {
	dependsOn 'copyJava'
	source = "$buildDir/src/main/java/"
}
